/* main sidebar block */

:root {
  /* sidebar block */
  --block--sidebar--content--flex-direction: column-reverse;
  --block--sidebar--content--width: 100%;
  --block--sidebar--content--inner--width: 100%;
  --block--sidebar--content--aside--width: 100%;
  --block--sidebar--content--aside--max-width: 100%;
  --block--sidebar--content--aside--gap: 0;
  --block--sidebar--content--aside--flex-direction: column;
  --block--sidebar--content--aside--section--min-width: 100%;
}

[data-sidebar-side='left'] > .content {
  --block--sidebar--content--flex-direction: row-reverse;
}

[data-block-type='sidebar'] > .content {
  display: flex;
  flex-wrap: nowrap;
  align-items: stretch;
  justify-content: space-between;
  gap:            var(--page--flex--gap);
  width:          var(--block--sidebar--content--width);
  flex-direction: var(--block--sidebar--content--flex-direction);
}

[data-block-type='sidebar'] > .content > .blocks {
  width: 100%;
  flex-grow: 1;
}

[data-block-type='sidebar'] > .content > .aside {
  flex-grow: 0;
  max-width: var(--block--sidebar--content--aside--max-width);
}

[data-block-type='sidebar'] > .content > .aside > aside {
  display: flex;
  width:          var(--block--sidebar--content--aside--width);
  flex-direction: var(--block--sidebar--content--aside--flex-direction);
}

[data-block-type='sidebar'][data-sidebar-sticky='true'] > .content > .aside > aside {
  position: sticky;
  top:            var(--page--masthead--full-height);
  gap:            var(--block--sidebar--content--aside--gap);
}

[data-block-type='sidebar'] > .content > .aside > aside > section {
  flex-grow: 1;
  width: 100%;
}

/* mobile (all) */
@media screen and (max-width: 1199.99px) {

  [data-block-type='sidebar'][data-block-profile='full--full']  > .content > .aside,
  [data-block-type='sidebar'][data-block-profile='full--outer'] > .content > .aside {
    padding-left:  var(--main--block--profile--fi--padding-left);
    padding-right: var(--main--block--profile--fi--padding-right);
  }
  
  [data-block-type='sidebar'] > .content > .aside > aside > section {
    margin-top: var(--main--block--margins);
    margin-bottom: 0;
  }
  
  [data-block-type='sidebar'] > .content > .aside > aside > section > .content {
    padding-top: 0;
    padding-bottom: 0;
  }

  [data-sidebar-side='left']:is(
    :not([data-sidebar-stack]),
    [data-sidebar-stack='top']
  ) > .content {
    --block--sidebar--content--flex-direction: column-reverse;
  }

  [data-sidebar-stack='bottom'] > .content {
    --block--sidebar--content--flex-direction: column;
  }
}

/* mobile sm */
@media screen and (min-width: 0) {
  :root {
    --block--sidebar--content--flex-direction: column-reverse;
    --block--sidebar--content--width: 100%;
    --block--sidebar--content--blocks--width: 100%;
    --block--sidebar--content--aside--width: 100%;
    --block--sidebar--content--aside--gap: 0;
    --block--sidebar--content--aside--flex-direction: column;
    --block--sidebar--content--aside--section--min-width: 100%;
  }
}

/* mobile md */
@media screen and (min-width: 768px) {
  :root {
    --block--sidebar--content--flex-direction: column-reverse;
    --block--sidebar--content--width: 100%;
    --block--sidebar--content--blocks--width: 100%;
    --block--sidebar--content--aside--max-width: 100%;
    --block--sidebar--content--aside--width: 100%;
    --block--sidebar--content--aside--gap: 25px;
    --block--sidebar--content--aside--flex-direction: row;
    --block--sidebar--content--aside--section--min-width: 300px;
  }
}

/* desktop sm */
@media screen and (min-width: 1200px) {
  :root {
    --block--sidebar--content--flex-direction: row;
    --block--sidebar--content--width: 100%;
    --block--sidebar--content--blocks--width: 70%;
    --block--sidebar--content--aside--max-width: 250px;
    --block--sidebar--content--aside--width: 250px;
    --block--sidebar--content--aside--gap: 0;
    --block--sidebar--content--aside--flex-direction: column;
    --block--sidebar--content--aside--section--min-width: 100%;
  }
}

/* desktop md */
@media screen and (min-width: 1440px) {
  :root {
    --block--sidebar--content--aside--max-width: 300px;
    --block--sidebar--content--aside--width: 300px;
  }
}

/* desktop lg */
@media screen and (min-width: 1600px) {
  :root {
    --block--sidebar--content--aside--max-width: 400px;
    --block--sidebar--content--aside--width: 400px;
  }
}
